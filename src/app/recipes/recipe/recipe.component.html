<div class="r-details" *ngIf="recipe$ | async as recipe">
  <div class="r-container" appResponsiveness 
    [largeScreens]="['r-desktop']" 
    [mediumScreens]="['r-tablet']"
    [smallScreens]="['r-handset-poitret-mode']" 
    [darkMode]="['r-dark-mode']">
    <div class="r-item"  [ngStyle]="{'background-color': isDark() ? 'inherit' : (recipe?.photo?.mainColor ?? '#008000') + '22' }">
      <div class="r-header" appResponsiveness [darkMode]="['r-header-bg-dark']" [lightMode]="['r-header-bg-light']">
        <h2 class="r-category">{{recipe.category}}</h2>
        <h1 class="r-title" [ngStyle]="{ 'text-shadow': '1px 1px 1px ' + (recipe?.photo?.mainColor ?? '#008000') }">
          {{recipe.title}}
        </h1>
        <h5 class="r-description">{{recipe.description}}</h5>
      </div>
      <div class="r-grid-container" appResponsiveness [largeScreens]="['r-desktop']" [mediumScreens]="['r-tablet']"
        [smallScreens]="['r-small']">
        <div class="r-grid-item-1">
          <img class="r-img" [ngStyle]="{'opacity': isDark() ? '0.5' : '1'}" width="200" height="150" priority
            ngSrc="{{recipe?.photo?.url || recipe.imageUrl || 'https://www.foodiesfeed.com/wp-content/uploads/2023/04/healthy-salad-on-a-pastel-orange-background.jpg'}}"
            alt="{{recipe.title}}">
        </div>
        <div class="r-grid-item-2">
          <h4>
            Preparation time: {{recipe.preparationTime}}
          </h4>
        </div>
        <div class="r-grid-item-3">
        </div>
        <div class="r-grid-item-4">
          <h4>
            Cooking time: {{recipe.cookingTime}}
          </h4>
        </div>
        <div class="r-grid-item-5">
          <h4>
            Servings: {{recipe.servings}}
          </h4>
        </div>
        <div class="r-grid-item-6">
          <mat-chip-listbox>
            <mat-chip-option (chipClick)="chipClicked($event)" appChipClick *ngFor="let tag of recipe.tags">{{tag}}</mat-chip-option>
          </mat-chip-listbox>
        </div>
        <div class="r-grid-item-7 r-content" appResponsiveness [darkMode]="['r-content-bg-dark']"
          [lightMode]="['r-content-bg-light']">
          <div class="r-igredients">
            <h3>Igredients</h3>
            <ul class="r-ul">
              <li class="r-li" *ngFor="let igredient of recipe.ingredients">
                <span>{{igredient.name}}</span>
                <span> - </span>
                <span class="r-quantity">{{igredient.quantity}}</span>
              </li>
            </ul>
          </div>
        </div>
        <div class="r-grid-item-8 r-content" appResponsiveness [darkMode]="['r-content-bg-dark-reverse']"
          [lightMode]="['r-content-bg-light-reverse']">
          <div class="r-instructions">
            <h3>Instructions</h3>
            <ol>
              <li *ngFor="let instruction of recipe.instructions">
                <span>{{instruction}}</span>
              </li>
            </ol>
          </div>
        </div>
        <div class="r-grid-item-9"> created by: </div>
      </div>
    </div>
  </div>
</div>